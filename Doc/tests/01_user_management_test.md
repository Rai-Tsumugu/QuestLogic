# 01_user_management_test.md

## テスト概要
ユーザー登録、ログイン、親子関係の構築に関するテストケース。

## テストケース

### 1. 親アカウント登録 (Parent SignUp)
- [ ] **TC-01-001**: メールアドレスとパスワードで新規登録成功
    - **手順**: 新規登録画面でEmail/Passを入力し登録ボタン押下。
    - **期待値**: アカウントが作成され、Firestoreに`users`(`role:parent`)と`families`ドキュメントが作成されること。
- [ ] **TC-01-002**: 既存のメールアドレスで登録失敗
    - **手順**: 既に登録済みのEmailで登録試行。
    - **期待値**: エラーメッセージが表示されること。

### 2. 子アカウント追加 (Add Child)
- [ ] **TC-01-003**: 子アカウント追加成功
    - **手順**: 親アカウントでログイン後、設定「子供を追加」から名前を入力して追加。
    - **期待値**: Firestore `users` に `role:child` のドキュメントが作成され、`families` の `childUids` に追加されること。
- [ ] **TC-01-004**: 名前空欄での追加失敗
    - **手順**: フォームを空にして送信。
    - **期待値**: バリデーションエラーが表示されること。

### 3. 子ログイン (Child Login)
- [ ] **TC-01-005**: ユーザー切り替え成功
    - **手順**: 親アプリのユーザー切替画面で、作成した子を選択しPIN(またはパスワード)を入力。
    - **期待値**: 子アカウントのホーム画面（クエスト画面）に遷移すること。
- [ ] **TC-01-006**: PIN入力ミス
    - **手順**: 誤ったPINを入力。
    - **期待値**: ログインできず、エラーが表示されること。
